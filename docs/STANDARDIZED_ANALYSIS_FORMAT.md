# Standardized Analysis Format Documentation

**Date:** November 8, 2025  
**Project:** Vadis Media Product Placement AI Platform  
**Version:** 1.0

---

## üìã Overview

This document describes the standardized analysis format implemented across the Vadis Media Product Placement AI Platform. The format ensures consistent, structured output for all script analyses, making data easier to process, compare, and integrate into business workflows.

---

## üéØ Goals

The standardized format was designed to achieve:

1. **Data Consistency** - All analyses follow the same structure regardless of AI model or script
2. **Easy Processing** - Structured tables enable automated data extraction and analysis
3. **Professional Presentation** - Clean, organized format suitable for client presentations
4. **Comparative Analysis** - Consistent structure allows direct comparison between scripts
5. **Business Integration** - Format aligns with industry standards for product placement proposals

---

## üìê Format Structure

The standardized format consists of **8 comprehensive sections**:

### 1. Product Placement Opportunities

**Format:** Markdown table with 5 columns

| Column | Description | Example |
|--------|-------------|---------|
| # | Sequential number | 1, 2, 3... |
| Scene/Moment Description | Specific scene reference with location/time | "EXT. HELICOPTER PAD - CONTINUOUS (Scene 3)" |
| Product Category | Clear, marketable category | "Helicopters", "Communication Devices" |
| Recommended Brand Synergy | 2-3 specific, real brand names | "Sikorsky, Bell Helicopter, Airbus Helicopters" |
| Integration Strategy | How to integrate naturally | "High visibility. Showcase specific model..." |

**Requirements:**
- 5-7 opportunities minimum
- Each must reference a specific scene
- Real brand names required
- Natural integration approach explained

**Example:**
```markdown
| # | Scene/Moment Description | Product Category | Recommended Brand Synergy | Integration Strategy |
| :--- | :--- | :--- | :--- | :--- |
| **1** | EXT. HELICOPTER PAD - CONTINUOUS (Scene 3) | Helicopters | Sikorsky, Bell Helicopter, Airbus Helicopters | High visibility. Showcase specific model used by S.H.I.E.L.D. Emphasize reliability and advanced technology. |
```

### 2. Market Potential

**Subsections:**
- **Commercial Appeal** - Market tier rating (A/B/C-Tier) with justification
- **Target Demographics** - Primary and secondary audiences with details
- **Revenue Potential** - Box office projection and product placement value ranges
- **ROI Factors** - Key factors affecting return on investment

**Example:**
```markdown
### Commercial Appeal
**Market Tier:** A-Tier (Superhero franchise with established fanbase)

### Target Demographics
**Primary Audience:**
- Age Range: 13-49
- Gender: All
- Interests: Comic books, superhero movies, action
- Psychographics: Adventurous, tech-savvy, value entertainment

### Revenue Potential
**Box Office Projection:** $1 Billion+
**Product Placement Value:**
- Premium Placement: $5M - $10M per integration
- Standard Placement: $1M - $3M per integration
- Total Potential: $20M - $50M
```

### 3. Character Analysis

**Format:** Markdown table with 5 columns

| Column | Description |
|--------|-------------|
| Character Name | Full character name |
| Role/Archetype | Character's role in the story |
| Lifestyle/Preferences | Socioeconomic status, preferences, lifestyle details |
| Product Affinity | Types of products they would naturally use |
| Key Scenes | Scene numbers where character appears |

**Additional:** Character insights section for observations about character-product fit

**Example:**
```markdown
| Character Name | Role/Archetype | Lifestyle/Preferences | Product Affinity | Key Scenes |
| :--- | :--- | :--- | :--- | :--- |
| Nick Fury | Director of S.H.I.E.L.D. | Strategic, authoritative, values security | Technology, tactical gear, vehicles | Scenes 2-11 |
```

### 4. Scene Breakdown

**Format:** Structured subsections for 5-7 key scenes

Each scene includes:
- **Scene Title/Location**
- **Timing** - When in the script
- **Setting** - Detailed location description
- **Action** - What happens
- **Placement Opportunities** - Specific products that fit
- **Visibility** - High / Medium / Low
- **Integration Approach** - How to place products

**Example:**
```markdown
### Scene 1: EXT. HELICOPTER PAD - CONTINUOUS
- **Timing:** Early in the film, establishing S.H.I.E.L.D.'s response
- **Setting:** Helicopter landing pad at Project P.E.G.A.S.U.S. facility
- **Action:** Fury, Hill, and Coulson arrive by helicopter
- **Placement Opportunities:** Helicopter (Sikorsky, Bell), Agent attire
- **Visibility:** High
- **Integration Approach:** Show specific helicopter model with subtle branding
```

### 5. Genre-Specific Recommendations

**Components:**
- **Genre** - Primary genre(s)
- **Genre Conventions** - Key conventions affecting product placement
- **Recommended Product Categories** - 5 categories with justifications

**Example:**
```markdown
**Genre:** Superhero, Action, Science Fiction

**Recommended Product Categories:**
1. **Technology & Electronics:** Fits the high-tech S.H.I.E.L.D. environment
2. **Automotive & Vehicles:** Action sequences require vehicles
3. **Tactical Gear & Apparel:** Military/spy operations context
4. **Communication Devices:** Essential for coordinated operations
5. **Weaponry Accessories:** Combat scenes provide opportunities
```

### 6. Competitive Analysis

**Components:**
- **Similar Films** - 3 comparable films with their product placements
- **Lessons Learned** - What worked, what to avoid, differentiation opportunities

**Example:**
```markdown
**Similar Films:**
- Iron Man: Audi R8 placement ($10M+), highly effective
- Mission Impossible: Oakley sunglasses, natural integration
- James Bond: Omega watches, luxury brand alignment

**Lessons Learned:**
- Authentic integration beats forced placement
- Tech brands work well in spy/action genres
- Luxury brands need character alignment
```

### 7. Actionable Recommendations

**Subsections:**
- **Immediate Actions** - 3 specific recommendations with timelines
- **Partnership Strategy** - Tier 1/2/3 brands to approach
- **Integration Timeline** - Pre-production, production, post-production steps
- **Success Metrics** - KPIs, brand recall targets, ROI metrics

**Example:**
```markdown
### Immediate Actions
1. **Secure Tier 1 Automotive Partner:** Approach Jeep/Land Rover within 30 days
2. **Technology Integration:** Contact Samsung/Motorola for communication devices
3. **Tactical Gear Partnership:** Engage Under Armour for apparel placement

### Partnership Strategy
- **Tier 1 Brands (Premium):** Jeep, Samsung, Under Armour, Omega
- **Tier 2 Brands (Standard):** Motorola, Dell, 5.11 Tactical
- **Tier 3 Brands (Emerging):** Sonim Technologies, Nanuk Cases
```

### 8. Risk Assessment

**Components:**
- **Potential Challenges** - 3 challenges with mitigation strategies
- **Brand Safety Considerations** - Content rating, controversial themes, alignment risks

**Example:**
```markdown
### Potential Challenges
1. **Challenge:** High-action scenes may obscure brand visibility
   **Mitigation:** Use close-ups and hero shots for key placements

2. **Challenge:** Sci-fi elements may conflict with real-world products
   **Mitigation:** Focus on established tech that fits futuristic setting

### Brand Safety Considerations
- PG-13 rating suitable for most brands
- Violence is stylized, not graphic
- No controversial political themes
- Strong brand alignment with heroism and technology
```

---

## üìä Test Results

The standardized format was tested on three professional Hollywood screenplays:

| Script | Genre | Pages | Words | Analysis Length | Status |
|--------|-------|-------|-------|-----------------|--------|
| 12 Years a Slave | Historical Drama | 155 | 36,462 | 15,328 chars | ‚úÖ PASSED |
| Annie Hall | Romantic Comedy | 156 | 27,258 | 11,599 chars | ‚úÖ PASSED |
| The Avengers | Action/Superhero | 123 | 24,902 | 14,866 chars | ‚úÖ PASSED |

**Success Rate:** 100% (3/3)

**Key Findings:**
- All analyses followed the standardized structure
- Tables were properly formatted with all required columns
- Brand recommendations were specific and realistic
- Market analysis included quantitative estimates
- Character analysis provided actionable insights
- Scene breakdowns were detailed and specific

---

## üîß Implementation

### Template File

**Location:** `prompts/standardized_analysis_template.txt`

**Size:** ~6,000 characters

**Structure:** 8 sections with detailed instructions and examples

### Script Upload Analysis Page

**Location:** `pages/2_Script_Upload_Analysis.py`

**Changes:**
- Loads standardized template from file
- Falls back to embedded template if file missing
- Replaces `{SCRIPT_TITLE}` placeholder with actual script name
- Adds clear instructions for AI model to follow format

**Code Example:**
```python
# Load standardized analysis template
template_path = "prompts/standardized_analysis_template.txt"
if os.path.exists(template_path):
    with open(template_path, 'r') as f:
        analysis_template = f.read()

# Get script title from filename
script_title = st.session_state.current_script_name.replace('.pdf', '').replace('_', ' ')

# Create analysis prompt
analysis_prompt = f"""{analysis_template.replace('{SCRIPT_TITLE}', script_title)}

---

## SCREENPLAY EXCERPT TO ANALYZE:

{st.session_state.analyzed_script[:15000]}

---

**IMPORTANT INSTRUCTIONS:**
- Follow the exact structure provided above
- Use markdown tables for all structured data
- Provide specific, actionable recommendations
- Include real brand names where appropriate
"""
```

### Test Suite

**Location:** `tests/test_standardized_format.py`

**Features:**
- Tests all PDF scripts in `scripts/` folder
- Extracts text using PDF extractor utility
- Applies standardized template
- Generates analysis with Gemini 2.0 Flash
- Saves results with timestamps
- Creates JSON summary with metadata

**Running Tests:**
```bash
cd /home/ubuntu/movies-product-placement
source .venv/bin/activate
python tests/test_standardized_format.py
```

---

## üìà Benefits

### For Analysts

1. **Consistent Output** - Every analysis follows the same structure
2. **Complete Coverage** - All important aspects are addressed
3. **Professional Quality** - Client-ready format
4. **Time Savings** - Template guides the analysis process

### For Developers

1. **Easy Parsing** - Structured tables enable automated extraction
2. **Database Integration** - Consistent format simplifies storage
3. **API Development** - Predictable output for API responses
4. **Testing** - Standardized format makes validation easier

### For Business Users

1. **Quick Comparison** - Compare multiple scripts side-by-side
2. **Data-Driven Decisions** - Quantitative estimates for ROI
3. **Actionable Insights** - Clear recommendations with timelines
4. **Risk Management** - Challenges and mitigations identified upfront

---

## üîÑ Comparison with Previous Format

### Before Standardization

**Issues:**
- Inconsistent section ordering
- Variable level of detail
- Missing quantitative estimates
- Difficult to compare analyses
- No standard table format
- Brand recommendations sometimes vague

**Example Output:**
```markdown
Product Placement Opportunities:

1. Agent Coulson's Car - Could feature an SUV like Jeep or Range Rover

2. Nick Fury's Eyepatch - High-end eyewear brand

3. Communication Devices - Tech company products
```

### After Standardization

**Improvements:**
- Fixed 8-section structure
- Consistent table format
- Quantitative estimates required
- Easy cross-script comparison
- Professional markdown tables
- Specific brand names with 2-3 options

**Example Output:**
```markdown
| # | Scene/Moment Description | Product Category | Recommended Brand Synergy | Integration Strategy |
| :--- | :--- | :--- | :--- | :--- |
| **1** | EXT. HELICOPTER PAD - CONTINUOUS (Scene 3) | Automotive (SUV) | Jeep Grand Cherokee, Range Rover Sport, Cadillac Escalade | High visibility arrival scene. Show vehicle badge and interior during exit. Emphasize reliability for government operations. |
```

---

## üé® Formatting Guidelines

### Markdown Tables

**Required Format:**
```markdown
| Column 1 | Column 2 | Column 3 |
| :--- | :--- | :--- |
| Left-aligned | Left-aligned | Left-aligned |
```

**Rules:**
- Use `:---` for left alignment (required)
- Bold row numbers: `**1**`, `**2**`, etc.
- Keep cells concise but informative
- Use line breaks within cells sparingly

### Section Headers

**Hierarchy:**
- `##` for main sections (1-8)
- `###` for subsections
- `####` for sub-subsections (rarely needed)

**Example:**
```markdown
## 1. PRODUCT PLACEMENT OPPORTUNITIES

### Scene 1: EXT. HELICOPTER PAD

#### Integration Details
```

### Lists

**Numbered Lists:**
- Use for sequential items
- Use for ranked items
- Use for step-by-step instructions

**Bulleted Lists:**
- Use for non-sequential items
- Use for equal-weight items
- Use for characteristics or features

### Emphasis

**Bold:** Use for emphasis, labels, and important terms  
*Italic:* Use sparingly for subtle emphasis  
`Code:` Use for technical terms, model names, specific values

---

## üîÆ Future Enhancements

### Planned Improvements

1. **Automated Data Extraction**
   - Parse tables into structured data
   - Store in database for querying
   - Enable cross-script analytics

2. **Visualization**
   - Generate charts from market data
   - Create timeline visualizations
   - Product placement heat maps

3. **Export Formats**
   - PDF reports with branding
   - PowerPoint presentations
   - Excel spreadsheets for financial data

4. **Enhanced Templates**
   - Genre-specific templates
   - Budget-tier templates (indie vs blockbuster)
   - Regional market templates

5. **Quality Validation**
   - Automated format checking
   - Completeness validation
   - Brand name verification

### API Development

**Planned Endpoints:**
```
POST /api/analyze
  - Submit script for analysis
  - Returns standardized JSON

GET /api/analysis/{id}
  - Retrieve analysis by ID
  - Returns structured data

GET /api/compare
  - Compare multiple analyses
  - Returns comparative metrics

GET /api/opportunities
  - Extract all product opportunities
  - Filter by category, brand, scene
```

---

## üìö Usage Examples

### Example 1: Analyzing a New Script

```python
# In Streamlit app
1. Navigate to "Script Upload & Analysis"
2. Upload PDF or select existing script
3. Click "Load for Analysis"
4. Select AI model (default: Google Gemini 2.0 Flash)
5. Click "Analyze Script"
6. Review standardized output
7. Download or save analysis
```

### Example 2: Comparing Scripts

```python
# Analyze multiple scripts
scripts = ["12_Years_a_Slave.pdf", "Annie_Hall.pdf", "The_Avengers.pdf"]

for script in scripts:
    analyze_script(script)
    
# Compare results
compare_analyses(scripts)
# Returns: Market tier, placement count, revenue potential, etc.
```

### Example 3: Extracting Product Opportunities

```python
# Parse analysis for opportunities
analysis = load_analysis("The_Avengers_Standardized_20251108_045204.txt")

opportunities = extract_table(analysis, section=1)
# Returns: List of dicts with columns as keys

for opp in opportunities:
    print(f"Scene: {opp['Scene/Moment Description']}")
    print(f"Category: {opp['Product Category']}")
    print(f"Brands: {opp['Recommended Brand Synergy']}")
```

---

## üß™ Quality Assurance

### Validation Checklist

**Structure:**
- [ ] All 8 sections present
- [ ] Sections in correct order
- [ ] Headers properly formatted

**Tables:**
- [ ] Product Placement table has 5 columns
- [ ] Character Analysis table has 5 columns
- [ ] All tables properly formatted
- [ ] 5-7 rows in main tables

**Content:**
- [ ] Specific scene references
- [ ] Real brand names (2-3 per opportunity)
- [ ] Quantitative estimates provided
- [ ] Market tier assigned
- [ ] Target demographics detailed

**Completeness:**
- [ ] All subsections addressed
- [ ] Actionable recommendations included
- [ ] Risk assessment provided
- [ ] Summary section complete

### Common Issues and Solutions

**Issue:** Tables not rendering properly  
**Solution:** Check alignment markers (`:---`), ensure consistent column count

**Issue:** Missing brand names  
**Solution:** Template requires 2-3 specific brands per opportunity

**Issue:** Vague integration strategies  
**Solution:** Template requires visibility level and specific approach

**Issue:** No quantitative estimates  
**Solution:** Template requires dollar ranges for placement value

---

## üìû Support

### Questions or Issues?

**Documentation:** See `docs/` folder for additional guides  
**Tests:** Run `tests/test_standardized_format.py` to verify setup  
**Template:** Check `prompts/standardized_analysis_template.txt` for latest version

### Contributing

To improve the standardized format:

1. Test proposed changes on multiple scripts
2. Document changes in this file
3. Update template file
4. Update test suite
5. Verify 100% success rate on test scripts

---

## üìÑ Version History

**Version 1.0** (November 8, 2025)
- Initial standardized format implementation
- 8-section structure
- Professional table format
- Tested on 3 Hollywood screenplays
- 100% success rate

---

**Document Status:** ‚úÖ Complete and Validated  
**Last Updated:** November 8, 2025  
**Author:** AI Development Team  
**Next Review:** December 2025
